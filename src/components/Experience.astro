---
import { Data, Experience } from '../models';

export interface Props {
    
  experience: Experience[]
}
const {experience} = Astro.props;

import SubHeader from './SubHeader.astro';
import Markdown from './Markdown.astro';

---
{ experience.length > 0 && 
<div class="experience">
  <SubHeader>Experience</SubHeader>
  {
    experience.map((x) => (
      <section class="experience-section">
        <div class="year">{x.year}</div>
        <div class="company">{x.organisation}</div>
        <div class="role">{x.role}</div>
        <Markdown markdown={x.description}/>
      </section>
    ))
  }
</div> }
<style lang="scss" is:global>
  .experience-section {
    p:not(:last-of-type) {
      margin-bottom: 1rem;
    }
    .tech-stack {
      margin-top: 1rem;
    }
    border-left: 3px solid gray;
    padding-left: 2rem;
    position: relative;
    .year {
      line-height: 1;
      font-weight: 600;
      margin-bottom: 0.1rem;
      font-size: 1.1rem;
    }

    .company {
      letter-spacing: 0.3rem;
      font-size: 1.1rem;
    }

    .role {
      font-weight: 700;
      font-size: 1.3rem;
      margin-bottom: 0.7rem;
    }
    padding-bottom: 2rem;
    &::before {
      display: block;
      content: "";
      position: absolute;
      width: 1rem;
      height: 1rem;
      border: 2px solid gray;
      background-color: var(--background-color);
      //top:-0.5rem;
      left: -0.55rem;
      border-radius: 999px;
    }
  }
</style>
